(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{101:function(e,t){},107:function(e,t,n){},109:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),o=n(30),c=n.n(o),i=n(60),a=n(25),j=n(4),u=n(61),l=n(14),d=n(63),h=n.n(d),b=n(3),p=(n(57),n(8)),O=n.n(p),f=n(15),v=n(31),x=n.n(v),y="http://localhost:9000/api/v1/users",m="http://localhost:9000/api/v1/posts";function g(){return(g=Object(f.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.abrupt("return",x.a.put(y).set({authorization:"Bearer ".concat(n)}).send({user:t}).then());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(107);var _=n(2);b.a.initializeApp({apiKey:"AIzaSyDOTyoj9m1nnT9bkG30WXMPuzFjT39Yb9I",authDomain:"test-e758d.firebaseapp.com",databaseURL:"https://test-e758d.firebaseio.com",storageBucket:"test-e758d.appspot.com",messagingSenderId:"918779841724"});var w={signInFlow:"popup",signInOptions:[b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.FacebookAuthProvider.PROVIDER_ID,b.a.auth.TwitterAuthProvider.PROVIDER_ID,{provider:b.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!0},{provider:b.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"US",recaptchaParameters:{type:"image",size:"invisible",badge:"bottomleft"}}],callbacks:{signInSuccessWithAuthResult:function(e){var t=e.user;return e.additionalUserInfo.isNewUser&&function(e){return g.apply(this,arguments)}(t).catch((function(e){return console.error(e)})),!1}},tosUrl:"https://www.google.com",privacyPolicyUrl:function(){window.location.assign("")}};function P(e){var t=e.signedInSuccess,n=Object(r.useState)(void 0),s=Object(l.a)(n,2),o=s[0],c=s[1];return Object(r.useEffect)((function(){var e=b.a.auth().onAuthStateChanged((function(e){e&&(c(e),t&&t(e))}));return function(){return e()}}),[]),o?null:Object(_.jsxs)("div",{className:"signup-form",children:[Object(_.jsx)("h1",{className:"signup-h1",children:"Please sign in to continue"}),Object(_.jsx)("div",{children:Object(_.jsx)(h.a,{uiConfig:w,firebaseAuth:b.a.auth()})})]})}n(109);function k(e){var t,n=e.user,s=Object(r.useState)({showPopover:!1,event:void 0}),o=Object(l.a)(s,2),c=o[0],i=o[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(j.f,{children:[Object(_.jsx)(j.k,{cssClass:"user-menu-popover",event:c.event,isOpen:c.showPopover,showBackdrop:!1,onDidDismiss:function(){return i({showPopover:!1,event:void 0})},children:Object(_.jsxs)(j.h,{children:[Object(_.jsx)(j.i,{children:null===n||void 0===n?void 0:n.displayName}),Object(_.jsx)(j.f,{button:!0,children:"Account"}),Object(_.jsx)(j.f,{button:!0,children:"Settings"}),Object(_.jsx)(j.f,{button:!0,onClick:function(e){i({showPopover:!1,event:void 0}),b.a.auth().signOut().then((function(){window.location.assign("/")}))},children:"Sign Out"})]})}),Object(_.jsx)(j.b,{slot:"end",className:"user-menu-avatar",onClick:function(e){console.log(n),n&&(e.persist(),i({showPopover:!0,event:e}))},children:Object(_.jsx)("img",{alt:"Account",src:null!==(t=null===n||void 0===n?void 0:n.photoURL)&&void 0!==t?t:"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y"})})]})})}function I(e){e.user;var t=function(e){var t=e.setUser,n=Object(r.useState)(b.a.auth().currentUser),s=Object(l.a)(n,2),o=s[0],c=s[1];return Object(r.useEffect)((function(){var e=b.a.auth().onAuthStateChanged((function(e){e&&(console.log("user",e),t&&t(e),c(e))}));return function(){return e()}}),[]),{currentUser:o}}({}).currentUser;return Object(_.jsx)(j.e,{children:Object(_.jsxs)(j.p,{children:[Object(_.jsx)(j.o,{children:"Ionic App"}),Object(_.jsx)(j.c,{slot:"end",children:Object(_.jsx)(k,{user:t})})]})})}var D=function(){return Object(_.jsxs)(j.j,{children:[Object(_.jsx)(I,{}),Object(_.jsxs)(j.d,{fullscreen:!0,children:[Object(_.jsx)(j.e,{collapse:"condense",children:Object(_.jsx)(j.p,{children:Object(_.jsx)(j.o,{size:"large",children:"Blank"})})}),Object(_.jsx)(P,{})]})]})},N=(n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(170));function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"get",headers:{},query:{},data:{},type:"json",onProgress:function(e){}},n=Object(r.useState)(!0),s=Object(l.a)(n,2),o=s[0],c=s[1],i=Object(r.useState)(void 0),a=Object(l.a)(i,2),j=a[0],u=a[1],d=Object(r.useState)(void 0),h=Object(l.a)(d,2),b=h[0],p=h[1],v=t.method,y=t.headers,m=t.query,g=t.data,_=t.type,w=t.onProgress;return Object(r.useEffect)((function(){function t(){return(t=Object(f.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=x.a[v](e)).on("progress",w),n.type(_),n.set(y),n.query(m),g&&n.send(g),t.next=9,n.then();case 9:r=t.sent,u(r.body),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),p(t.t0);case 16:return t.prev=16,c(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),{loading:o,response:j,error:b}}n(121);function A(){var e=S(m),t=e.loading,n=e.response;e.error;return t?Object(_.jsx)(j.n,{}):Object(_.jsxs)(j.j,{children:[Object(_.jsx)(I,{}),Object(_.jsx)(j.d,{fullscreen:!0,children:Object(_.jsxs)("div",{className:"container posts-list",children:[t&&Object(_.jsx)("div",{className:"loading-spinner",children:Object(_.jsx)(j.n,{})}),n&&Object(_.jsx)(U,{posts:n.data})]})})]})}function U(e){var t=e.posts;return Object(_.jsx)(j.h,{className:"container posts-list",children:t.map((function(e){var t;return Object(_.jsx)(j.f,{routerLink:"/post/".concat(e.id),lines:"none",className:"post-example",children:Object(_.jsxs)(j.g,{children:[Object(_.jsx)("h2",{className:"post_title",children:e.title}),Object(_.jsx)("p",{className:"post_content",dangerouslySetInnerHTML:{__html:e.content}}),Object(_.jsxs)("p",{children:[null===(t=e.author)||void 0===t?void 0:t.name," on ",Object(N.a)(new Date(e.createdAt),"PPP")]})]})},String(e.id))}))})}n(122);function E(e){var t=e.match,n=(e.history,S("".concat(m,"/").concat(t.params.id))),r=n.loading,s=n.response;n.error;return Object(_.jsxs)(j.j,{children:[Object(_.jsx)(I,{}),Object(_.jsxs)(j.d,{fullscreen:!0,children:[r&&Object(_.jsx)("div",{children:Object(_.jsx)(j.n,{})}),s&&Object(_.jsx)(R,{post:s})]})]})}function R(e){var t=e.post,n=t.author;return Object(_.jsxs)("div",{className:"container single-post",children:[Object(_.jsx)("h1",{className:"post-title",children:t.title}),Object(_.jsx)("section",{className:"meta-author",children:Object(_.jsxs)(j.f,{slot:"start",routerLink:"/users/".concat(null===n||void 0===n?void 0:n.id),lines:"none",className:"ion-no-padding no-hover",children:[n&&Object(_.jsx)(j.b,{slot:"start",children:Object(_.jsx)("img",{src:n.photoURL,alt:n.name})}),Object(_.jsxs)(j.g,{children:[Object(_.jsx)("h2",{children:null===n||void 0===n?void 0:n.name}),Object(_.jsx)("h3",{children:Object(N.a)(new Date(t.createdAt),"PPP")})]})]})}),Object(_.jsxs)("section",{children:[(null===n||void 0===n?void 0:n.name)&&Object(_.jsx)("p",{children:Object(_.jsxs)("em",{children:["By ",null===n||void 0===n?void 0:n.name]})}),Object(_.jsx)("p",{className:"post-content",dangerouslySetInnerHTML:{__html:t.content}})]})]})}var C=function(){return Object(_.jsx)(j.a,{children:Object(_.jsx)(u.a,{children:Object(_.jsxs)(j.m,{animated:!1,children:[Object(_.jsx)(a.a,{exact:!0,path:"/",children:Object(_.jsx)(D,{})}),Object(_.jsx)(a.a,{exact:!0,path:"/posts",children:Object(_.jsx)(A,{})}),Object(_.jsx)(a.a,{exact:!0,path:"/post/:id",render:function(e){return Object(_.jsx)(E,Object(i.a)({},e))}})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,186)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),o(e),c(e)}))};c.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),L()},74:function(e,t,n){var r={"./ion-action-sheet.entry.js":[125,5],"./ion-alert.entry.js":[126,6],"./ion-app_8.entry.js":[127,7],"./ion-avatar_3.entry.js":[128,17],"./ion-back-button.entry.js":[129,18],"./ion-backdrop.entry.js":[130,43],"./ion-button_2.entry.js":[131,19],"./ion-card_5.entry.js":[132,20],"./ion-checkbox.entry.js":[133,21],"./ion-chip.entry.js":[134,22],"./ion-col_3.entry.js":[135,44],"./ion-datetime_3.entry.js":[136,10],"./ion-fab_3.entry.js":[137,23],"./ion-img.entry.js":[138,45],"./ion-infinite-scroll_2.entry.js":[139,46],"./ion-input.entry.js":[140,24],"./ion-item-option_3.entry.js":[141,25],"./ion-item_8.entry.js":[142,26],"./ion-loading.entry.js":[143,27],"./ion-menu_3.entry.js":[144,28],"./ion-modal.entry.js":[145,8],"./ion-nav_2.entry.js":[146,14],"./ion-popover.entry.js":[147,9],"./ion-progress-bar.entry.js":[148,29],"./ion-radio_2.entry.js":[149,30],"./ion-range.entry.js":[150,31],"./ion-refresher_2.entry.js":[151,11],"./ion-reorder_2.entry.js":[152,16],"./ion-ripple-effect.entry.js":[153,47],"./ion-route_4.entry.js":[154,32],"./ion-searchbar.entry.js":[155,33],"./ion-segment_2.entry.js":[156,34],"./ion-select_3.entry.js":[157,35],"./ion-slide_2.entry.js":[158,48],"./ion-spinner.entry.js":[159,13],"./ion-split-pane.entry.js":[160,49],"./ion-tab-bar_2.entry.js":[161,36],"./ion-tab_2.entry.js":[162,15],"./ion-text.entry.js":[163,37],"./ion-textarea.entry.js":[164,38],"./ion-toast.entry.js":[165,39],"./ion-toggle.entry.js":[166,12],"./ion-virtual-scroll.entry.js":[167,50]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(r)},s.id=74,e.exports=s},76:function(e,t,n){var r={"./ion-icon.entry.js":[168,57]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(r)},s.id=76,e.exports=s}},[[123,3,4]]]);
//# sourceMappingURL=main.fca8fda5.chunk.js.map